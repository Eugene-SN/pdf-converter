# upload_1760003093_test_short

## 命令列表

| Command Name | NetFn | CMD | Privilege | 备注 |  |

| --- | --- | --- | --- | --- | --- |

| chassis status |  |  | User | 获取当前服务器 (Server)状态 |  |

| chassis restart_cause |  |  | User | 获取服务器 (Server)系统上次重启原因 |  |

| chassis selftest |  |  | User | 获取服务器 (Server)系统自检结果 |  |

| chassis policy always- on/previous/always-off |  |  | operator | 设置服务器 (Server)系统电源 (Power Supply)恢复策略为自动开机 / 恢复到断电前状态 / 保持关机状态 |  |

| chassis bootdev {device} |  |  | operator | 设置服务器 (Server)的启动项 |  |

| power status |  |  | User | 获取服务器 (Server)系统电源 (Power Supply)当前状态 |  |

| power on/up |  |  | operator | 设置服务器 (Server)开机 |  |

| power off/down |  |  | operator | 设置服务器 (Server)关机 |  |

| power reset |  |  | operator | 设置服务器 (Server)重启 |  |

| mc info |  |  | User | 获取服务器 (Server)管理系统各个模块信息 |  |

| mc selftest |  |  | User | 获取服务器 (Server)管理系统自检结果 |  |

| mc reset cold |  |  | Admin | 设置服务器 (Server)管理系统冷重启 |  |

| sdr |  |  | User | 获取服务器 (Server)所有传感器的部分信息 |  |

| sensor list |  |  | User | 获取服务器 (Server)所有传感器的详细参数信息 |  |

| sensor get {sensor-name} |  |  | User | 获取服务器 (Server)指定传感器的详细信息 |  |

| sensor thresh {sensor- name} |  |  | Admin | 设置服务器 (Server)指定传感器的阈值 |  |

| sel |  |  | User | 获取系统日志信息 |  |

| sel elist |  |  | User | 获取系统详细日志记录 |  |

| fru |  |  | User | 获取现场可替换单元信息 |  |

| session info active |  |  | User | 获取服务器 (Server)管理系统当前活跃用户的会话信息 |  |

| User list |  |  | User | 获取所有用户信息 |  |

| User set name {User id} {Username} |  |  | Admin | 设置服务器 (Server)管理系统新增用户名 |  |

| User set password {User id} {password} |  |  | Admin | 设置服务器 (Server)管理系统指定用户的密码 |  |

| User test {User id} {16 | 20} {password} |  |  | Admin | 验证用户名密码的正确性 |

| User disable {User id} |  |  | Admin | 关闭指定用户的服务器 (Server)管理系统的访问权限 |  |

| User enable {User id} |  |  | Admin | 开启指定用户的服务器 (Server)管理系统的访问权限 |  |

| User priv {User id} {privilege level} |  |  | Admin | 设置指定用户的服务器 (Server)管理系统访问权限 |  |

## chassis selftest （获取服务器 (Server)系统自检结果）

| Command Description | chassis selftest 命令用来获取服务器 (Server)系统自检结果 |

| --- | --- |

| Privilege | user |

| Command example | lenovo:~# ipmitool -H [BMC_IP] -U USERID -P PASSW0RD -I lanplus chassis selftest Self Test Results : passed |

chassis policy always-on/previous/always-off （设置服务器 (Server)系统电源 (Power Supply)恢复策略为自动开机 / 恢复到断电前状态 / 保持关机状态）

| Command Description | chassis policy 命令用来设置服务器 (Server)系统电源 (Power Supply)恢复策略。 支持三种策略： 1. always-on 当服务器 (Server)电源 (Power Supply)接通后系统会自动启动 2. previous 当服务器 (Server)电源 (Power Supply)接通后系统恢复电源 (Power Supply)拔出前的状态 3. always-off 当服务器 (Server)电源 (Power Supply)接通后系统保持关机状态 |

| --- | --- |

| Privilege | operator |

| Command example | -H [BMC_IP] -U USERID -P PASSW0RD -I |

|  | lenovo:~# ipmitool lanplus chassis policy state <state>: list : return supported policies |

## chassis bootdev {device} （设置服务器 (Server)的启动项）

| Command Description | chassis bootdev 命令用来设置服务器 (Server)系统一次性启动选项 |

| --- | --- |

| Privilege | operator |

## sol activate （激活 SOL 功能）

| Command Description | sol activate 命令用来激活 SOL ， |

| --- | --- |

| Privilege | administrator |

| Command example | lenovo:~# ipmitool -H [BMC_IP] -U USERID -P PASSW0RD -I lanplus sol activate usesolkeepalive [SOL Session operational. Use ~? for help] |

## sol deactivate （关闭 SOL 功能）

| Command Description | sol deactivate |

| --- | --- |

| Privilege | administrator |

| Command example | lenovo:~# ipmitool -H [BMC_IP] -U USERID -P PASSW0RD -I lanplus sol deactivate |

下列命令是 Lenovo BMC 支持的 OEM RAW 命令。

## Get SNMP Trap Info （获取 SNMP trap 信息）

| Get SNMP TRAP INFO （ netfn=`0x30` ， cmd=`0x02` ） | Get SNMP TRAP INFO （ netfn=`0x30` ， cmd=`0x02` ） | Get SNMP TRAP INFO （ netfn=`0x30` ， cmd=`0x02` ） |

| --- | --- | --- |

|  | byte | data field |

| Request Data | 1 | user ID this value is from 01h to 05h. |

| Request Data | 2 | parameter 01h - enable 02h - severity 03h - version 04h - mode 05h - community 06h - user 07h - user encrypt 08h - password 09h - pass encrypt 0Ah - distination IP 0Bh - port |

|  |  | 0Ch - lan channel 0Dh - enter ID |

| --- | --- | --- |

| Response Data for parameter 01h | 1 | Completion code |

| Response Data for parameter 01h | 2 | 00h - disable 01h - enable |

|  | 1 | Completion code |

| Response Data for parameter 02h | 2 | severity 01h - critical 02h - critical and warning 03h - all |

| Response Data | 1 | Completion code |

| for parameter 03h | 2 | version 01h - v1 02h - v2c 03h - v3 |

| Response Data | 1 | Completion code |

| for parameter 04h | 2 | mode |

| Response Data | 1 | Completion code |

| for parameter 05h | 2:17 | community |

| Response Data | 1 | Completion code |

| for parameter 06h | 2:17 | user |

| Response Data | 1 | Completion code |

| for parameter 07h | 2 | user encrypt 00h - user encrypt 01h - user non-encrypt |

| Response Data | 1 | Completion code |

| for parameter 08h | 2:17 | password |

| Response Data | 1 | Completion code |

| for parameter 09h | 2 | password encrypt 00h - password encrypt 01h - password non-encrypt |

| Response Data | 1 | Completion code |

| for parameter 0Ah | 2:33 | deatination IP |

| Response Data | 1 | Completion code |

| for parameter 0Bh | 2:3 | port |

| for parameter 0Ch | 2 | lan channel |

| --- | --- | --- |

| Response Data for parameter | 1 | Completion code |

| 0Dh | 2:33 | enter ID |

| Command example ： # ipmitool -H `10.109.107.160` -U USERID -P PASSW0RD | Command example ： # ipmitool -H `10.109.107.160` -U USERID -P PASSW0RD | Command example ： # ipmitool -H `10.109.107.160` -U USERID -P PASSW0RD |

## Set SNMP Trap Info （设置 SNMP trap 信息）

| SET SNMPTRAPINFO （ netfn=`0x30` ， cmd=`0x03` ） | SET SNMPTRAPINFO （ netfn=`0x30` ， cmd=`0x03` ） | SET SNMPTRAPINFO （ netfn=`0x30` ， cmd=`0x03` ） |

| --- | --- | --- |

|  | byte | data field |

| Request Data | 1 | user ID this value is from 01h to 05h. |

| Request Data | 2 | parameter 01h - enable 02h - severity 03h - version 04h - mode 05h - community 06h - user 07h - user encrypt 08h - password 09h - pass encrypt 0Ah - distination IP 0Bh - port 0Ch - lan channel 0Dh - enter ID |

| Request Data | 3 | below value for parameter 01h : 00h - disable 01h - enable below value for parameter 02h : 01h - critical 02h - critical and warning 03h - all below value for parameter 03h : |

## chassis selftest （获取服务器系统自检结果）

## chassis bootdev {device} （设置服务器的启动项）